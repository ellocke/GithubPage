---
title: 'Election Hacking: Exploring 2 Million Tweets from the Russian Internet Research
  Agency Dataset, Pt. 1'
author: Ilja / fubits
date: '2018-10-26'
slug: election-hacking-exploring-2-million-tweets-from-the-russian-internet-research-agency-dataset-pt-1
categories:
  - Rstats
  - DataViz
  - Natural Language Processing NLP
tags:
  - ggplot
  - Twitter
  - CSV
output:
  blogdown::html_page:
    number_sections: yes
    toc: yes
lastmod: '2018-10-26T16:18:07+02:00'
description: "A bit over a week ago, Twitter's new-ish Elections integrity team released two datasets with 'all the accounts and related content associated with potential information operations that we have found on our service since 2016.' We're talking about millions of Tweets in dozens of languages stored in a single 1.24 GB CSV file. Tidyverse to the rescue!" 
abstract: ''
thumbnail: "/img/thumbs/conference_tweets_pt2.jpg"
rmdlink: yes
keywords: []
comment: no
autoCollapseToc: no
postMetaInFooter: no
hiddenFromHomePage: no
contentCopyright: no
reward: no
mathjax: no
mathjaxEnableSingleDollar: no
mathjaxEnableAutoNumber: no
hideHeaderAndFooter: no
flowchartDiagrams:
  enable: no
  options: ''
sequenceDiagrams:
  enable: no
  options: ''
---


<div id="TOC">
<ul>
<li><a href="#data-preperation"><span class="toc-section-number">1</span> Data Preperation</a><ul>
<li><a href="#change-variable-types"><span class="toc-section-number">1.1</span> Change Variable Types</a></li>
<li><a href="#remove-duplicates"><span class="toc-section-number">1.2</span> Remove Duplicates</a></li>
<li><a href="#reducerecode-language-variables"><span class="toc-section-number">1.3</span> Reduce/Recode Language Variables</a></li>
<li><a href="#ira-dataset-languages-summary"><span class="toc-section-number">1.4</span> IRA Dataset Languages: Summary</a></li>
</ul></li>
<li><a href="#who-tweeted-at-what-language"><span class="toc-section-number">2</span> Who tweeted at what language?</a><ul>
<li><a href="#create-specific-subsets"><span class="toc-section-number">2.1</span> Create specific Subsets</a></li>
<li><a href="#summary-plots-languages-general-activity"><span class="toc-section-number">2.2</span> Summary Plots: Languages &amp; General Activity</a><ul>
<li><a href="#consolidating-tweet-languages-per-account"><span class="toc-section-number">2.2.1</span> Consolidating Tweet Languages per Account</a></li>
<li><a href="#general-activity-plots"><span class="toc-section-number">2.2.2</span> General Activity Plots</a></li>
</ul></li>
<li><a href="#languages-accounts-vs-tweets"><span class="toc-section-number">2.3</span> Languages: Accounts vs Tweets</a></li>
</ul></li>
</ul>
</div>

<p>A bit over a week ago, <a href="https://blog.twitter.com/official/en_us/topics/company/2018/enabling-further-research-of-information-operations-on-twitter.html" target="_blank">Twitter’s new-ish Elections integrity team released two datasets</a> with “all the accounts and related content associated with potential information operations that we have found on our service since 2016.”</p>
<p>In particular, this is what we are talking about here:</p>
<blockquote>
<p>“<strong>What’s included?</strong>Our initial disclosures cover two previously disclosed campaigns, and include information from 3,841 accounts believed to be connected to the Russian Internet Research Agency [also known as IRA], and 770 accounts believed to originate in Iran.”</p>
</blockquote>
<p>The IRA zip alone is <strong>1.24 GB</strong> big! Let’s dive in and explore. Before we can start with any in-depth analysis, automated or not, we have to inspect and prepare the data - remember: <a href="https://ellocke.github.io/post/r-german-academic-twitter-pt-2-from-data-to-corpus-with-a-turkish-twist/#the-turkish-plot-twist">EDA FTW</a>!</p>
<p>Anyways, a dataset of this size is a perfect excersise in data wrangeling and exploratory analysis with tools from the galactic <code>tidyverse</code>. So what I’m aiming to highlight with this post, is my more or less systematic approach to turning an granular dataset into something more useful (and reliable!) for further in-depth analysis.</p>
<div id="data-preperation" class="section level1">
<h1><span class="header-section-number">1</span> Data Preperation</h1>
<p>You can get the data from here:</p>
<ul>
<li>source: <a href="https://about.twitter.com/en_us/values/elections-integrity.html#data" class="uri">https://about.twitter.com/en_us/values/elections-integrity.html#data</a></li>
<li>IRA CSV ZIP: <a href="https://storage.googleapis.com/twitter-election-integrity/hashed/ira/ira_tweets_csv_hashed.zip" class="uri">https://storage.googleapis.com/twitter-election-integrity/hashed/ira/ira_tweets_csv_hashed.zip</a></li>
<li>README: <a href="https://storage.googleapis.com/twitter-election-integrity/hashed/Twitter_Elections_Integrity_Datasets_hashed_README.txt" class="uri">https://storage.googleapis.com/twitter-election-integrity/hashed/Twitter_Elections_Integrity_Datasets_hashed_README.txt</a></li>
</ul>
<pre class="r"><code>library(tidyverse)</code></pre>
<p>First, we need to unpack the <code>.zip</code> file and then read the <code>.csv</code> file into R.</p>
<pre class="r"><code>codebook &lt;- readLines(&quot;https://storage.googleapis.com/twitter-election-integrity/hashed/Twitter_Elections_Integrity_Datasets_hashed_README.txt&quot;)

csvfile &lt;- &quot;ira_tweets_csv_hashed.csv&quot;

data &lt;- read_csv(&quot;ira_tweets_csv_hashed.csv&quot;)


# Just for comparison
data2 &lt;- data.table::fread(csvfile,
                          encoding = &quot;UTF-8&quot;,
                          # na.strings = &quot;,,&quot;,
                          verbose = TRUE)</code></pre>
<p><code>&gt; 1899596 userid closing quote at end of file &quot;&quot;        'ira_tweets_csv_hashed.csv' file 2 1899596 NA     31 columns                   2 columns 'ira_tweets_csv_hashed.csv'</code></p>
<blockquote>
<p>I (<a href="https://twitter.com/avuko/status/1052573187869986816" target="_blank">like others</a>) am getting an CRC error message when unpacking the zip file. The resulting CSV is 1.17 GB big, so that’s not all the Tweets from the IRA dataset. We might want to come back to this issue later.</p>
</blockquote>
<blockquote>
<p><code>data.table</code> is by light years the fastest method, but <code>read_csv()</code> gives me <code>NA</code>’s without an extra hassle. <code>data.table::fread()</code> seems to be ignoring any patterns for <code>na.strings</code>. Therefore I’ll be working with the data object from <code>read_csv()</code> here. Since <code>read_csv()</code> is rather slow with a <code>CSV</code> this big, you can speed up your exploration if you save the read in data as an <code>.rds</code> file.</p>
</blockquote>
<pre class="r"><code>data_path &lt;- here::here(&quot;static&quot;, &quot;data&quot;, &quot;IRA_Tweets&quot;, &quot;/&quot;)
# if (!dir.exists(data_path)) dir.create(data_path)
# saveRDS(data, str_c(data_path, &quot;infoops_data.rds&quot;))
data_raw &lt;- readRDS(str_c(data_path, &quot;infoops_data.rds&quot;))</code></pre>
<p>With a dataset this big, skimr:skim() is just perfect (and it’s much more functional in RStudio)!</p>
<pre class="r"><code>data_raw %&gt;% skimr::skim_to_wide() %&gt;% knitr::kable(&quot;html&quot;, 2)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
type
</th>
<th style="text-align:left;">
variable
</th>
<th style="text-align:left;">
missing
</th>
<th style="text-align:left;">
complete
</th>
<th style="text-align:left;">
n
</th>
<th style="text-align:left;">
min
</th>
<th style="text-align:left;">
max
</th>
<th style="text-align:left;">
empty
</th>
<th style="text-align:left;">
n_unique
</th>
<th style="text-align:left;">
median
</th>
<th style="text-align:left;">
mean
</th>
<th style="text-align:left;">
sd
</th>
<th style="text-align:left;">
p0
</th>
<th style="text-align:left;">
p25
</th>
<th style="text-align:left;">
p50
</th>
<th style="text-align:left;">
p75
</th>
<th style="text-align:left;">
p100
</th>
<th style="text-align:left;">
hist
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
account_language
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1899595
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
11
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
hashtags
</td>
<td style="text-align:left;">
510585
</td>
<td style="text-align:left;">
1389011
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
140
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
75180
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
in_reply_to_userid
</td>
<td style="text-align:left;">
1791412
</td>
<td style="text-align:left;">
108184
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
64
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
20501
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
is_retweet
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1899595
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
latitude
</td>
<td style="text-align:left;">
1898750
</td>
<td style="text-align:left;">
846
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
19
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
683
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
longitude
</td>
<td style="text-align:left;">
1898750
</td>
<td style="text-align:left;">
846
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
18
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
685
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
poll_choices
</td>
<td style="text-align:left;">
1899339
</td>
<td style="text-align:left;">
257
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
76
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
164
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
retweet_userid
</td>
<td style="text-align:left;">
1196129
</td>
<td style="text-align:left;">
703467
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
64
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
71938
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
tweet_client_name
</td>
<td style="text-align:left;">
9017
</td>
<td style="text-align:left;">
1890579
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
32
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
257
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
tweet_language
</td>
<td style="text-align:left;">
67178
</td>
<td style="text-align:left;">
1832418
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
51
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
tweet_text
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1899595
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
686
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1634942
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
urls
</td>
<td style="text-align:left;">
349363
</td>
<td style="text-align:left;">
1550233
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
1103
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
743828
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
user_display_name
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1899595
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
64
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
3457
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
user_mentions
</td>
<td style="text-align:left;">
1071572
</td>
<td style="text-align:left;">
828024
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
808
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
143446
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
user_profile_description
</td>
<td style="text-align:left;">
294084
</td>
<td style="text-align:left;">
1605512
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
160
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
2451
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
user_profile_url
</td>
<td style="text-align:left;">
1516322
</td>
<td style="text-align:left;">
383274
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
23
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
193
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
user_reported_location
</td>
<td style="text-align:left;">
325967
</td>
<td style="text-align:left;">
1573629
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
30
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
588
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
user_screen_name
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1899595
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
64
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
3460
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
userid
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
9
</td>
<td style="text-align:left;">
64
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
3461
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Date
</td>
<td style="text-align:left;">
account_creation_date
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1899595
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
2009-04-24
</td>
<td style="text-align:left;">
2018-04-03
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
633
</td>
<td style="text-align:left;">
2014-03-26
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
integer
</td>
<td style="text-align:left;">
follower_count
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1899595
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
8829.46
</td>
<td style="text-align:left;">
23091.87
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
320
</td>
<td style="text-align:left;">
833
</td>
<td style="text-align:left;">
4506
</td>
<td style="text-align:left;">
257638
</td>
<td style="text-align:left;">
▇▁▁▁▁▁▁▁
</td>
</tr>
<tr>
<td style="text-align:left;">
integer
</td>
<td style="text-align:left;">
following_count
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1899595
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
2520.72
</td>
<td style="text-align:left;">
5011.33
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
285
</td>
<td style="text-align:left;">
618
</td>
<td style="text-align:left;">
2024
</td>
<td style="text-align:left;">
74664
</td>
<td style="text-align:left;">
▇▁▁▁▁▁▁▁
</td>
</tr>
<tr>
<td style="text-align:left;">
integer
</td>
<td style="text-align:left;">
like_count
</td>
<td style="text-align:left;">
471
</td>
<td style="text-align:left;">
1899125
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
3.89
</td>
<td style="text-align:left;">
257.11
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
182821
</td>
<td style="text-align:left;">
▇▁▁▁▁▁▁▁
</td>
</tr>
<tr>
<td style="text-align:left;">
integer
</td>
<td style="text-align:left;">
quote_count
</td>
<td style="text-align:left;">
471
</td>
<td style="text-align:left;">
1899125
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
0.2
</td>
<td style="text-align:left;">
15.57
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
11633
</td>
<td style="text-align:left;">
▇▁▁▁▁▁▁▁
</td>
</tr>
<tr>
<td style="text-align:left;">
integer
</td>
<td style="text-align:left;">
reply_count
</td>
<td style="text-align:left;">
471
</td>
<td style="text-align:left;">
1899125
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
0.29
</td>
<td style="text-align:left;">
7.19
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
2621
</td>
<td style="text-align:left;">
▇▁▁▁▁▁▁▁
</td>
</tr>
<tr>
<td style="text-align:left;">
integer
</td>
<td style="text-align:left;">
retweet_count
</td>
<td style="text-align:left;">
471
</td>
<td style="text-align:left;">
1899125
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
3.42
</td>
<td style="text-align:left;">
121.68
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
74524
</td>
<td style="text-align:left;">
▇▁▁▁▁▁▁▁
</td>
</tr>
<tr>
<td style="text-align:left;">
numeric
</td>
<td style="text-align:left;">
in_reply_to_tweetid
</td>
<td style="text-align:left;">
1850047
</td>
<td style="text-align:left;">
49549
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
6.1e+17
</td>
<td style="text-align:left;">
1.4e+17
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
5.7e+17
</td>
<td style="text-align:left;">
6.3e+17
</td>
<td style="text-align:left;">
6.6e+17
</td>
<td style="text-align:left;">
1e+18
</td>
<td style="text-align:left;">
▁▁▁▁▆▇▁▁
</td>
</tr>
<tr>
<td style="text-align:left;">
numeric
</td>
<td style="text-align:left;">
quoted_tweet_tweetid
</td>
<td style="text-align:left;">
1864146
</td>
<td style="text-align:left;">
35450
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
8e+17
</td>
<td style="text-align:left;">
8.3e+16
</td>
<td style="text-align:left;">
4.1e+09
</td>
<td style="text-align:left;">
7.8e+17
</td>
<td style="text-align:left;">
8.1e+17
</td>
<td style="text-align:left;">
8.5e+17
</td>
<td style="text-align:left;">
1e+18
</td>
<td style="text-align:left;">
▁▁▁▁▁▂▇▂
</td>
</tr>
<tr>
<td style="text-align:left;">
numeric
</td>
<td style="text-align:left;">
retweet_tweetid
</td>
<td style="text-align:left;">
1196129
</td>
<td style="text-align:left;">
703467
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
6.7e+17
</td>
<td style="text-align:left;">
1.2e+17
</td>
<td style="text-align:left;">
8e+08
</td>
<td style="text-align:left;">
5.7e+17
</td>
<td style="text-align:left;">
6.5e+17
</td>
<td style="text-align:left;">
7.9e+17
</td>
<td style="text-align:left;">
1e+18
</td>
<td style="text-align:left;">
▁▁▁▁▇▅▆▁
</td>
</tr>
<tr>
<td style="text-align:left;">
numeric
</td>
<td style="text-align:left;">
tweetid
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
6.4e+17
</td>
<td style="text-align:left;">
1.6e+17
</td>
<td style="text-align:left;">
1.7e+09
</td>
<td style="text-align:left;">
5.3e+17
</td>
<td style="text-align:left;">
6.2e+17
</td>
<td style="text-align:left;">
7.8e+17
</td>
<td style="text-align:left;">
1e+18
</td>
<td style="text-align:left;">
▁▁▁▃▇▅▅▁
</td>
</tr>
<tr>
<td style="text-align:left;">
POSIXct
</td>
<td style="text-align:left;">
tweet_time
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1899595
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
2009-05-09
</td>
<td style="text-align:left;">
2018-06-21
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
916505
</td>
<td style="text-align:left;">
2015-07-08
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
</table>
<p>We can already make some interesting observations from this summary alone:</p>
<ul>
<li>The IRA dataset consist of ~ 1.899.595 Tweets in 51 languages, from ~ 3.460 unique accounts with 11 account languages. That’s “diverse” but also quite complex.</li>
<li><code>$is_retweet</code> has only 2 unique values, so it’s obviously a boolean</li>
<li>There’s 1.899.595 observations for <code>$tweet_text</code>, but only 1.634.942 are unique. This difference just screams: spam bots and/or coordinated campaigns!</li>
<li>only ~50K Tweets are replies -&gt; rather few interactions</li>
<li>there are some prominent accounts with up to 257.638 followers</li>
<li>743.828 URLs to explore</li>
<li>we can see from <code>$retweet_userid</code> that apparently, 703.467 Tweets are just Retweets and not unique Tweets.</li>
<li>if we were to try to classify accounts by profile description, there’s a corpus of 2451 unique profile descriptions (<code>$user_profile_description</code>) and 193 unique <code>$user_profile_url</code>s</li>
<li>all the <code>$*_tweetid</code> were read as nummeric, which we’ll also need to change as IDs are supposed to be unique identifieres and not continuous values</li>
<li>the Tweets were posted in the period from 2009-05-09 (!) to 2018-06-21, with the median around 2015-07-08</li>
<li>half of the accounts were created on or after 2014-03-26. Like there was an upcoming election or something :)</li>
<li>588 accounts have named a location in their profile, and there are 846 geolocated Tweets. That’s not much, we could try to double-check these locations with the respective <code>$account_language</code> values.</li>
</ul>
<p>That should be enough leads for an initial inquiry. Let’s continue with the data preparation and adress what we have discovered so far.</p>
<div id="change-variable-types" class="section level2">
<h2><span class="header-section-number">1.1</span> Change Variable Types</h2>
<p><strong>convert <code>$is_retweet</code> into a boolean</strong></p>
<pre class="r"><code>data_raw$is_retweet &lt;- as.logical(data_raw$is_retweet)</code></pre>
<p><strong>convert <code>$*_tweetid</code> vars into strings</strong></p>
<pre class="r"><code>data_raw &lt;- data_raw %&gt;% 
  mutate_at(vars(ends_with(&quot;tweetid&quot;)),
            funs(as.character))</code></pre>
<p>Now we can <code>skim</code> just the <code>$*_tweetid</code> vars and <code>$is_retweet</code></p>
<pre class="r"><code>data_raw %&gt;% 
  select(is_retweet, ends_with(&quot;tweetid&quot;)) %&gt;% 
  skimr::skim_to_wide(noten_raw) %&gt;%
  knitr::kable(&quot;html&quot;, 2)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
type
</th>
<th style="text-align:left;">
variable
</th>
<th style="text-align:left;">
missing
</th>
<th style="text-align:left;">
complete
</th>
<th style="text-align:left;">
n
</th>
<th style="text-align:left;">
min
</th>
<th style="text-align:left;">
max
</th>
<th style="text-align:left;">
empty
</th>
<th style="text-align:left;">
n_unique
</th>
<th style="text-align:left;">
mean
</th>
<th style="text-align:left;">
count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
in_reply_to_tweetid
</td>
<td style="text-align:left;">
1850047
</td>
<td style="text-align:left;">
49549
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
18
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
47162
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
quoted_tweet_tweetid
</td>
<td style="text-align:left;">
1864146
</td>
<td style="text-align:left;">
35450
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
10
</td>
<td style="text-align:left;">
18
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
31394
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
retweet_tweetid
</td>
<td style="text-align:left;">
1196129
</td>
<td style="text-align:left;">
703467
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
9
</td>
<td style="text-align:left;">
19
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
551034
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
tweetid
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
10
</td>
<td style="text-align:left;">
19
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1899324
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
logical
</td>
<td style="text-align:left;">
is_retweet
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1899595
</td>
<td style="text-align:left;">
1899596
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
0.37
</td>
<td style="text-align:left;">
FAL: 1196128, TRU: 703467, NA: 1
</td>
</tr>
</tbody>
</table>
<p>Ok, now we know that 703.467 Tweets are Retweets of 551.034 unique Tweets. Good to know for any Natural Language Processing Method, i.e. Topic Modelling, or when building a corpus for descriptive analyses.</p>
</div>
<div id="remove-duplicates" class="section level2">
<h2><span class="header-section-number">1.2</span> Remove Duplicates</h2>
<pre class="r"><code>data_unique &lt;- data_raw %&gt;% filter(is_retweet == FALSE)</code></pre>
<p>Now we’re down to 1196110 unique Tweets by 3295 Users.</p>
</div>
<div id="reducerecode-language-variables" class="section level2">
<h2><span class="header-section-number">1.3</span> Reduce/Recode Language Variables</h2>
<p><strong>$tweet_language</strong></p>
<pre class="r"><code>data_unique %&gt;% 
  group_by(tweet_language) %&gt;% 
  count() %&gt;% 
  arrange(desc(n)) %&gt;%
  #head(20) %&gt;% 
  knitr::kable(format = &quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
tweet_language
</th>
<th style="text-align:right;">
n
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ru
</td>
<td style="text-align:right;">
609547
</td>
</tr>
<tr>
<td style="text-align:left;">
en
</td>
<td style="text-align:right;">
443041
</td>
</tr>
<tr>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
64908
</td>
</tr>
<tr>
<td style="text-align:left;">
und
</td>
<td style="text-align:right;">
22355
</td>
</tr>
<tr>
<td style="text-align:left;">
de
</td>
<td style="text-align:right;">
17791
</td>
</tr>
<tr>
<td style="text-align:left;">
uk
</td>
<td style="text-align:right;">
10313
</td>
</tr>
<tr>
<td style="text-align:left;">
bg
</td>
<td style="text-align:right;">
7642
</td>
</tr>
<tr>
<td style="text-align:left;">
ar
</td>
<td style="text-align:right;">
7185
</td>
</tr>
<tr>
<td style="text-align:left;">
es
</td>
<td style="text-align:right;">
1823
</td>
</tr>
<tr>
<td style="text-align:left;">
fr
</td>
<td style="text-align:right;">
1322
</td>
</tr>
<tr>
<td style="text-align:left;">
in
</td>
<td style="text-align:right;">
1249
</td>
</tr>
<tr>
<td style="text-align:left;">
sr
</td>
<td style="text-align:right;">
1157
</td>
</tr>
<tr>
<td style="text-align:left;">
tl
</td>
<td style="text-align:right;">
835
</td>
</tr>
<tr>
<td style="text-align:left;">
et
</td>
<td style="text-align:right;">
760
</td>
</tr>
<tr>
<td style="text-align:left;">
ht
</td>
<td style="text-align:right;">
666
</td>
</tr>
<tr>
<td style="text-align:left;">
tr
</td>
<td style="text-align:right;">
645
</td>
</tr>
<tr>
<td style="text-align:left;">
da
</td>
<td style="text-align:right;">
483
</td>
</tr>
<tr>
<td style="text-align:left;">
ro
</td>
<td style="text-align:right;">
464
</td>
</tr>
<tr>
<td style="text-align:left;">
it
</td>
<td style="text-align:right;">
418
</td>
</tr>
<tr>
<td style="text-align:left;">
nl
</td>
<td style="text-align:right;">
412
</td>
</tr>
<tr>
<td style="text-align:left;">
sk
</td>
<td style="text-align:right;">
384
</td>
</tr>
<tr>
<td style="text-align:left;">
pt
</td>
<td style="text-align:right;">
365
</td>
</tr>
<tr>
<td style="text-align:left;">
cy
</td>
<td style="text-align:right;">
307
</td>
</tr>
<tr>
<td style="text-align:left;">
sl
</td>
<td style="text-align:right;">
262
</td>
</tr>
<tr>
<td style="text-align:left;">
lt
</td>
<td style="text-align:right;">
258
</td>
</tr>
<tr>
<td style="text-align:left;">
fi
</td>
<td style="text-align:right;">
238
</td>
</tr>
<tr>
<td style="text-align:left;">
sv
</td>
<td style="text-align:right;">
222
</td>
</tr>
<tr>
<td style="text-align:left;">
pl
</td>
<td style="text-align:right;">
200
</td>
</tr>
<tr>
<td style="text-align:left;">
no
</td>
<td style="text-align:right;">
180
</td>
</tr>
<tr>
<td style="text-align:left;">
ja
</td>
<td style="text-align:right;">
139
</td>
</tr>
<tr>
<td style="text-align:left;">
cs
</td>
<td style="text-align:right;">
112
</td>
</tr>
<tr>
<td style="text-align:left;">
bs
</td>
<td style="text-align:right;">
87
</td>
</tr>
<tr>
<td style="text-align:left;">
lv
</td>
<td style="text-align:right;">
64
</td>
</tr>
<tr>
<td style="text-align:left;">
id
</td>
<td style="text-align:right;">
57
</td>
</tr>
<tr>
<td style="text-align:left;">
hu
</td>
<td style="text-align:right;">
54
</td>
</tr>
<tr>
<td style="text-align:left;">
hr
</td>
<td style="text-align:right;">
48
</td>
</tr>
<tr>
<td style="text-align:left;">
vi
</td>
<td style="text-align:right;">
30
</td>
</tr>
<tr>
<td style="text-align:left;">
eu
</td>
<td style="text-align:right;">
29
</td>
</tr>
<tr>
<td style="text-align:left;">
ko
</td>
<td style="text-align:right;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
is
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
hi
</td>
<td style="text-align:right;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
zh
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
el
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
fa
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
iw
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
th
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
he
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
hy
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
ml
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
ur
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<p>So there’s 12 Tweet languages with n &gt; 1000.</p>
<p><strong>merge NA and und[defined]</strong></p>
<pre class="r"><code>data_unique &lt;- data_unique %&gt;% 
  mutate(tweet_language = if_else(is.na(tweet_language), &quot;und&quot;, tweet_language))</code></pre>
<p><strong>recode all langs with n &lt; 1000 as “other”</strong></p>
<p>I’m very sure that there’s a more elegant solution for mutating observations row-wise based on grouped counts…</p>
<pre class="r"><code>other_langs &lt;- data_unique %&gt;% 
  group_by(tweet_language) %&gt;% 
  count() %&gt;% 
  filter(n &lt; 1000) %&gt;% 
  select(tweet_language)</code></pre>
<pre class="r"><code>data_unique &lt;- data_unique %&gt;% 
  mutate(tweet_language = 
           if_else(tweet_language %in% other_langs$tweet_language, &quot;other&quot;,
                                  tweet_language))</code></pre>
<pre class="r"><code>n_distinct(data_unique$tweet_language)</code></pre>
<pre><code>## [1] 12</code></pre>
<p>We’re down to 12 language groups for the Tweets. That’s better!</p>
<p><strong>$account_language</strong></p>
<pre class="r"><code>data_unique %&gt;% 
  group_by(account_language) %&gt;% 
  distinct(userid) %&gt;% 
  count() %&gt;% 
  arrange(desc(n))</code></pre>
<pre><code>## # A tibble: 11 x 2
## # Groups:   account_language [11]
##    account_language     n
##    &lt;chr&gt;            &lt;int&gt;
##  1 en                2030
##  2 ru                 955
##  3 es                 172
##  4 de                 102
##  5 ar                  15
##  6 fr                   8
##  7 en-gb                6
##  8 zh-cn                3
##  9 uk                   2
## 10 id                   1
## 11 it                   1</code></pre>
<p>So there’s 11 account languages, but we should should focus on those with n &gt; 100</p>
<blockquote>
<p>merge langs with n &lt; 100</p>
</blockquote>
<pre class="r"><code>account_langs &lt;- data_unique %&gt;% 
  group_by(account_language) %&gt;% 
  distinct(userid) %&gt;% 
  count() %&gt;% 
  filter(n &lt; 100)  %&gt;% 
  select(account_language)

data_unique &lt;- data_unique %&gt;% 
  mutate(account_language = if_else(account_language %in% account_langs$account_language,
                                    &quot;other&quot;, account_language))
n_distinct(data_unique$account_language)</code></pre>
<pre><code>## [1] 5</code></pre>
<p>Great! Now we’re down to 5 account laguages.</p>
</div>
<div id="ira-dataset-languages-summary" class="section level2">
<h2><span class="header-section-number">1.4</span> IRA Dataset Languages: Summary</h2>
<p>Let’s see how many different languages we have by now.</p>
<pre class="r"><code>unique(c(data_unique$tweet_language, data_unique$account_language))</code></pre>
<pre><code>##  [1] &quot;ru&quot;    &quot;bg&quot;    &quot;en&quot;    &quot;und&quot;   &quot;other&quot; &quot;de&quot;    &quot;uk&quot;    &quot;es&quot;   
##  [9] &quot;ar&quot;    &quot;fr&quot;    &quot;in&quot;    &quot;sr&quot;</code></pre>
<p>Now let’s create a preliminary overview.</p>
<pre class="r"><code>data_count_by_tweet_lang &lt;- data_unique %&gt;%
  # filter(is_retweet == TRUE) %&gt;% 
  group_by(tweet_language) %&gt;%
  distinct(tweetid) %&gt;% 
  count() %&gt;%
  rename(Tweets = n)

data_count_by_account_lang &lt;- data_unique %&gt;%
  # filter(is_retweet == TRUE) %&gt;% 
  group_by(account_language) %&gt;%
  distinct(userid) %&gt;% 
  count() %&gt;%
  rename(Accounts = n)

lang_stats &lt;- full_join(data_count_by_tweet_lang, data_count_by_account_lang,
  by = c(&quot;tweet_language&quot; = &quot;account_language&quot;)) %&gt;%
  rename(Language = tweet_language) %&gt;%
  mutate(
    T.Share = round(Tweets / sum(.$Tweets, na.rm = TRUE) * 100, 2),
    A.Share = round(Accounts / sum(.$Accounts, na.rm = TRUE) * 100, 2)
  ) %&gt;%
  select(Language, Tweets, T.Share, Accounts, A.Share) %&gt;%
  arrange(desc(Accounts))</code></pre>
<pre class="r"><code>lang_stats %&gt;%
  knitr::kable(&quot;html&quot;,
    format.args = list(
      big.mark = &quot;.&quot;,
      decimal.mark = &quot;,&quot;),
    caption = &quot;#TwitterDump 2018 – Russian InfoOP Dataset: Languages (unique Tweets)&quot;
  )</code></pre>
<table>
<caption>
<span id="tab:unnamed-chunk-18">Table 1.1: </span>#TwitterDump 2018 – Russian InfoOP Dataset: Languages (unique Tweets)
</caption>
<thead>
<tr>
<th style="text-align:left;">
Language
</th>
<th style="text-align:right;">
Tweets
</th>
<th style="text-align:right;">
T.Share
</th>
<th style="text-align:right;">
Accounts
</th>
<th style="text-align:right;">
A.Share
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
en
</td>
<td style="text-align:right;">
443.038
</td>
<td style="text-align:right;">
37,04
</td>
<td style="text-align:right;">
2.030
</td>
<td style="text-align:right;">
61,61
</td>
</tr>
<tr>
<td style="text-align:left;">
ru
</td>
<td style="text-align:right;">
609.538
</td>
<td style="text-align:right;">
50,96
</td>
<td style="text-align:right;">
955
</td>
<td style="text-align:right;">
28,98
</td>
</tr>
<tr>
<td style="text-align:left;">
es
</td>
<td style="text-align:right;">
1.823
</td>
<td style="text-align:right;">
0,15
</td>
<td style="text-align:right;">
172
</td>
<td style="text-align:right;">
5,22
</td>
</tr>
<tr>
<td style="text-align:left;">
de
</td>
<td style="text-align:right;">
17.791
</td>
<td style="text-align:right;">
1,49
</td>
<td style="text-align:right;">
102
</td>
<td style="text-align:right;">
3,10
</td>
</tr>
<tr>
<td style="text-align:left;">
other
</td>
<td style="text-align:right;">
7.795
</td>
<td style="text-align:right;">
0,65
</td>
<td style="text-align:right;">
36
</td>
<td style="text-align:right;">
1,09
</td>
</tr>
<tr>
<td style="text-align:left;">
ar
</td>
<td style="text-align:right;">
7.185
</td>
<td style="text-align:right;">
0,60
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
bg
</td>
<td style="text-align:right;">
7.642
</td>
<td style="text-align:right;">
0,64
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
fr
</td>
<td style="text-align:right;">
1.322
</td>
<td style="text-align:right;">
0,11
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
in
</td>
<td style="text-align:right;">
1.249
</td>
<td style="text-align:right;">
0,10
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
sr
</td>
<td style="text-align:right;">
1.157
</td>
<td style="text-align:right;">
0,10
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
uk
</td>
<td style="text-align:right;">
10.313
</td>
<td style="text-align:right;">
0,86
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
und
</td>
<td style="text-align:right;">
87.259
</td>
<td style="text-align:right;">
7,30
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>
</table>
<blockquote>
<p>That’s already interesting, but let’s not jump to conclusion about who tweeted in what language, yet… This summary alone does enable us to claim that, for instance, Russian accounts where responsible for all the Russian Tweets, and so on.</p>
</blockquote>
<p><strong>Check for any remaining language NA’s</strong></p>
<pre class="r"><code>data_unique %&gt;% filter(is.na(tweet_language) | is.na(account_language)) %&gt;% 
  count()</code></pre>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1     0</code></pre>
<p><strong>(Optional: recode if(tweet_lang == NA &amp;/| user_lang == NA))</strong></p>
<p>Since we’ve reduced our dataset and already recoded the <code>NA</code>s, this step is not necessary anymore (before that, I worked without <code>is_retweet == FALSE</code> and things looked a bit different). However, I’m just leaving the syntax here, since it might be useful to others (and to myself).</p>
<pre class="r"><code>data_recoded &lt;- data_unique %&gt;%
  mutate(tweet_language = if_else(is.na(tweet_language) &amp; is.na(account_language),
                                  &quot;und&quot;,
                            if_else(is.na(tweet_language) &amp; !is.na(account_language),
                                    account_language,
                          tweet_language)
                          )
         ) %&gt;% 
  mutate(account_language = if_else(is.na(tweet_language) &amp; is.na(account_language),
                                  &quot;und&quot;,
                              if_else(is.na(account_language) &amp; !is.na(tweet_language),
                                      tweet_language,
                            account_language)
                            )
         )</code></pre>
<p>What if a <code>user == is.na(account_language)</code> has tweeted in multiple languages? –&gt; Let’s double-check with <code>data_raw</code></p>
<pre class="r"><code>data_raw %&gt;% 
  filter(is.na(account_language))</code></pre>
<pre><code>## # A tibble: 1 x 31
##   tweetid userid user_display_na~ user_screen_name user_reported_l~
##   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;           
## 1 840375~ 54276~ &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;            
## # ... with 26 more variables: user_profile_description &lt;chr&gt;,
## #   user_profile_url &lt;chr&gt;, follower_count &lt;int&gt;, following_count &lt;int&gt;,
## #   account_creation_date &lt;date&gt;, account_language &lt;chr&gt;,
## #   tweet_language &lt;chr&gt;, tweet_text &lt;chr&gt;, tweet_time &lt;dttm&gt;,
## #   tweet_client_name &lt;chr&gt;, in_reply_to_tweetid &lt;chr&gt;,
## #   in_reply_to_userid &lt;chr&gt;, quoted_tweet_tweetid &lt;chr&gt;,
## #   is_retweet &lt;lgl&gt;, retweet_userid &lt;chr&gt;, retweet_tweetid &lt;chr&gt;,
## #   latitude &lt;chr&gt;, longitude &lt;chr&gt;, quote_count &lt;int&gt;, reply_count &lt;int&gt;,
## #   like_count &lt;int&gt;, retweet_count &lt;int&gt;, hashtags &lt;chr&gt;, urls &lt;chr&gt;,
## #   user_mentions &lt;chr&gt;, poll_choices &lt;chr&gt;</code></pre>
<blockquote>
<p>That’s BTW the Tweet, where the <code>zip</code> throws an CRC error…</p>
</blockquote>
</div>
</div>
<div id="who-tweeted-at-what-language" class="section level1">
<h1><span class="header-section-number">2</span> Who tweeted at what language?</h1>
<p>Now it’s about time to look into which account language groups tweeted in what languages.</p>
<div id="create-specific-subsets" class="section level2">
<h2><span class="header-section-number">2.1</span> Create specific Subsets</h2>
<blockquote>
<p>This is also a good moment to create language-specific or other intereting subsets from our refined dataset.</p>
</blockquote>
<p><strong>German subset</strong></p>
<pre class="r"><code>german_subset &lt;- data_unique %&gt;% filter(tweet_language == &quot;de&quot; | account_language == &quot;de&quot;)
german_subset %&gt;% count()</code></pre>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1 19547</code></pre>
<p><strong>Undefined Subset</strong></p>
<pre class="r"><code>undefined_subset &lt;- data_unique %&gt;% 
  filter(tweet_language == &quot;und&quot; | account_language == &quot;und&quot; | 
           is.na(tweet_language) | is.na(account_language))

undefined_subset %&gt;% distinct(tweetid) %&gt;% count()</code></pre>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1 87259</code></pre>
<pre class="r"><code>undefined_subset %&gt;% distinct(userid) %&gt;% count()</code></pre>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1  2078</code></pre>
</div>
<div id="summary-plots-languages-general-activity" class="section level2">
<h2><span class="header-section-number">2.2</span> Summary Plots: Languages &amp; General Activity</h2>
<pre class="r"><code>data_unique %&gt;%
  group_by(tweet_language) %&gt;%
  summarise(n = n()) %&gt;%
  mutate(
    share = n / sum(n),
    tweet_language = case_when(
      tweet_language == &quot;&quot; ~ &quot;unspec.&quot;,
      tweet_language == &quot;und&quot; ~ &quot;undef.&quot;,
      TRUE ~ tweet_language
    )
  ) %&gt;%
  arrange(desc(n)) %&gt;%
  ggplot(aes(area = share)) +
  treemapify::geom_treemap(aes(fill = n), alpha = 0.8) +
  treemapify::geom_treemap_text(
    aes(label = paste0(tweet_language, &quot;\n(&quot;, round(share * 100, 1), &quot;%)&quot;))
  ) +
  scale_fill_viridis_c(direction = -1, option = &quot;D&quot;) +
  labs(
    title = &quot;#TwitterDump 2018 – Russian InfoOP Dataset: Shares of Languages (Tweets)&quot;,
    subtitle = str_c(&quot;Total of &quot;, 
      n_distinct(data_unique$tweetid), &quot; unique Tweets (no RTs) from &quot;,
      n_distinct(data_unique$tweetid), &quot; unique Users&quot;
    ),
    caption = str_c(&quot;@fubits&quot;)
  ) +
  guides(fill = FALSE)</code></pre>
<p><img src="/post/2018-10-26-election-hacking-exploring-2-million-tweets-from-the-russian-internet-research-agency-dataset-pt-1_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<pre class="r"><code>data_unique %&gt;%
  group_by(account_language) %&gt;%
  summarise(n = n()) %&gt;%
  mutate(
    share = n / sum(n),
    account_language = case_when(
      account_language == &quot;&quot; ~ &quot;unspec.&quot;,
      account_language == &quot;und&quot; ~ &quot;undef.&quot;,
      TRUE ~ account_language
    )
  ) %&gt;%
  arrange(desc(n)) %&gt;%
  ggplot(aes(area = share)) +
  treemapify::geom_treemap(aes(fill = n), alpha = 0.8) +
  treemapify::geom_treemap_text(
    aes(label = paste0(account_language, &quot;\n(&quot;, round(share * 100, 1), &quot;%)&quot;))
  ) +
  scale_fill_viridis_c(direction = -1, option = &quot;D&quot;) +
  labs(
    title = &quot;#TwitterDump 2018 – Russian InfoOP Dataset: Shares of Languages (Accounts)&quot;,
    subtitle = str_c(&quot;Total of &quot;, 
      n_distinct(data_unique$tweetid), &quot; unique Tweets (no RTs) from &quot;,
      n_distinct(data_unique$userid), &quot; unique Users&quot;
    ),
    caption = str_c(&quot;@fubits&quot;)
  ) +
  guides(fill = FALSE)</code></pre>
<p><img src="/post/2018-10-26-election-hacking-exploring-2-million-tweets-from-the-russian-internet-research-agency-dataset-pt-1_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<div id="consolidating-tweet-languages-per-account" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Consolidating Tweet Languages per Account</h3>
<pre class="r"><code>data_counts &lt;- data_unique %&gt;%
  group_by(userid) %&gt;%
  mutate(Account_Lang = account_language) %&gt;% 
  summarise(
    Created = unique(account_creation_date),
    Account_Lang = unique(Account_Lang),
    Tweets = n(),
    RT = sum(retweet_count),
    Follower = unique(follower_count),
    Following = unique(following_count),
    Influence = (((Follower + 1) + (Following + 1)) / (Following + 1)) * (Follower + 1),
    Tweet_Langs = list(tweet_language),
    Tweet_Langs_Counts = list(unlist(Tweet_Langs) %&gt;% fct_count())
  ) %&gt;%
  arrange(desc(Tweets))</code></pre>
<p>Now the <code>$Tweet_Langs</code> var contains a list of all Tweet Languages from every single Tweet posted by an Account. Compare the number of <code>$Tweets</code> with the length of the vector (in the list).</p>
<p>For <code>$Tweet_Langs_Counts</code>, we have utilised the quite elegant <code>forcats::fct_count()</code> which gives us a <code>list</code> of of the grouped language counts.</p>
<p>So the first User in our dataset - who has tweeted a total of 30940 times - has been busy in 5 languages. Impressive :)</p>
<pre class="r"><code>data_counts[1,]$Tweet_Langs_Counts[[1]] %&gt;% knitr::kable(&quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
f
</th>
<th style="text-align:right;">
n
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
bg
</td>
<td style="text-align:right;">
177
</td>
</tr>
<tr>
<td style="text-align:left;">
ru
</td>
<td style="text-align:right;">
30400
</td>
</tr>
<tr>
<td style="text-align:left;">
sr
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
uk
</td>
<td style="text-align:right;">
328
</td>
</tr>
<tr>
<td style="text-align:left;">
und
</td>
<td style="text-align:right;">
25
</td>
</tr>
</tbody>
</table>
<p>And this is what this tibble looks like (without <code>$userid</code> and <code>$Tweet_Langs</code> for better Website readability):</p>
<pre class="r"><code>data_counts %&gt;%  
  select(-userid, -Tweet_Langs) %&gt;% 
  head(10) %&gt;% knitr::kable()</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">Created</th>
<th align="left">Account_Lang</th>
<th align="right">Tweets</th>
<th align="right">RT</th>
<th align="right">Follower</th>
<th align="right">Following</th>
<th align="right">Influence</th>
<th align="left">Tweet_Langs_Counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">16237</td>
<td align="left">ru</td>
<td align="right">30940</td>
<td align="right">60537</td>
<td align="right">15753</td>
<td align="right">6862</td>
<td align="right">51917.269</td>
<td align="left">list(f = 1:5, n = c(177, 30400, 10, 328, 25))</td>
</tr>
<tr class="even">
<td align="left">14553</td>
<td align="left">ru</td>
<td align="right">18984</td>
<td align="right">3231</td>
<td align="right">1543</td>
<td align="right">34</td>
<td align="right">69656.457</td>
<td align="left">list(f = 1:10, n = c(130, 5, 79, 4, 4, 51, 7272, 20, 185, 11234))</td>
</tr>
<tr class="odd">
<td align="left">17093</td>
<td align="left">ru</td>
<td align="right">14020</td>
<td align="right">439</td>
<td align="right">423</td>
<td align="right">187</td>
<td align="right">1380.255</td>
<td align="left">list(f = 1:6, n = c(76, 1, 13799, 2, 122, 20))</td>
</tr>
<tr class="even">
<td align="left">16204</td>
<td align="left">en</td>
<td align="right">13517</td>
<td align="right">7595</td>
<td align="right">23595</td>
<td align="right">13665</td>
<td align="right">64337.345</td>
<td align="left">list(f = 1:7, n = c(19, 13354, 20, 35, 9, 65, 15))</td>
</tr>
<tr class="odd">
<td align="left">16205</td>
<td align="left">en</td>
<td align="right">12109</td>
<td align="right">5187</td>
<td align="right">22688</td>
<td align="right">8375</td>
<td align="right">84149.210</td>
<td align="left">list(f = 1:7, n = c(21, 11927, 33, 24, 8, 79, 17))</td>
</tr>
<tr class="even">
<td align="left">16431</td>
<td align="left">en</td>
<td align="right">12097</td>
<td align="right">959</td>
<td align="right">13358</td>
<td align="right">13851</td>
<td align="right">26242.546</td>
<td align="left">list(f = 1:7, n = c(6, 11902, 36, 33, 15, 88, 17))</td>
</tr>
<tr class="odd">
<td align="left">15399</td>
<td align="left">en</td>
<td align="right">11230</td>
<td align="right">100330</td>
<td align="right">149672</td>
<td align="right">1024</td>
<td align="right">22005289.516</td>
<td align="left">list(f = 1:10, n = c(106, 2, 10, 1, 1, 7, 9316, 9, 96, 1682))</td>
</tr>
<tr class="even">
<td align="left">15387</td>
<td align="left">ru</td>
<td align="right">10630</td>
<td align="right">525</td>
<td align="right">1676</td>
<td align="right">414</td>
<td align="right">8453.696</td>
<td align="left">list(f = 1:5, n = c(31, 2, 2882, 7, 7708))</td>
</tr>
<tr class="odd">
<td align="left">17095</td>
<td align="left">es</td>
<td align="right">10310</td>
<td align="right">4138</td>
<td align="right">4123</td>
<td align="right">3393</td>
<td align="right">9135.012</td>
<td align="left">list(f = 1:7, n = c(19, 10150, 22, 34, 10, 55, 20))</td>
</tr>
<tr class="even">
<td align="left">16227</td>
<td align="left">en</td>
<td align="right">8923</td>
<td align="right">3165</td>
<td align="right">29357</td>
<td align="right">6720</td>
<td align="right">157596.679</td>
<td align="left">list(f = 1:7, n = c(24, 8724, 29, 23, 10, 88, 25))</td>
</tr>
</tbody>
</table>
<p>I’ll get back to this in a minute. Let’s now visualise the general characteristics of all accounts in the IRA dataset.</p>
</div>
<div id="general-activity-plots" class="section level3">
<h3><span class="header-section-number">2.2.2</span> General Activity Plots</h3>
<pre class="r"><code>ggplot(data_counts, aes(x = Follower, y = Following)) +
  geom_point(aes(size = Tweets, color = userid, alpha = RT)) +
  scale_color_viridis_d(direction = -1) +
  scale_alpha_continuous(range = c(0.3,1),
                         labels = scales::number_format(big.mark = &quot;.&quot;,
                                                    decimal.mark = &quot;,&quot;)) +
  scale_size(range = c(1,5), labels = scales::number_format(big.mark = &quot;.&quot;,
                                                    decimal.mark = &quot;,&quot;)) +
  scale_x_continuous(breaks = scales::pretty_breaks(6),
                     labels = scales::number_format(big.mark = &quot;.&quot;,
                                                    decimal.mark = &quot;,&quot;)) +
  scale_y_continuous(breaks = scales::pretty_breaks(3),
                     labels = scales::number_format(big.mark = &quot;.&quot;,
                                                    decimal.mark = &quot;,&quot;)) +
  coord_fixed() +
  theme_minimal() +
  labs(
    title = &quot;#TwitterDump 2018 – Russian InfoOP Dataset: Account Stats&quot;,
    subtitle = str_c(&quot;Total of &quot;, 
      n_distinct(data_unique$tweetid), &quot; unique Tweets (no RTs) from &quot;,
      n_distinct(data_unique$userid), &quot; unique Users&quot;
    ),
    caption = str_c(&quot;@fubits&quot;),
    #x = &quot;&quot;,
    # y = &quot;&quot;,
    size = &quot;# of Tweets&quot;,
    alpha = &quot;Alpha: # Retweets&quot;
  ) +
    guides(color = FALSE,
         alpha = guide_legend(override.aes = list(size = 4, stroke = 0)
                               )
         )</code></pre>
<p><img src="/post/2018-10-26-election-hacking-exploring-2-million-tweets-from-the-russian-internet-research-agency-dataset-pt-1_files/figure-html/unnamed-chunk-29-1.png" width="960" /></p>
<p>From what we can see here, is that we have quite an amount of “influencers” - accounts with lots of followers with low rates of following others.</p>
<p>What if we look at the account languages?</p>
<pre class="r"><code>ggplot(data_counts, aes(x = Follower, y = Following)) +
  geom_point(aes(size = Tweets, color = fct_infreq(Account_Lang), alpha = RT)) +
  scale_color_viridis_d(option = &quot;B&quot;, direction = 1) +
  scale_alpha_continuous(range = c(0.3,1),
                         labels = scales::number_format(big.mark = &quot;.&quot;,
                                                    decimal.mark = &quot;,&quot;)) +
  scale_size(range = c(1,5), labels = scales::number_format(big.mark = &quot;.&quot;,
                                                    decimal.mark = &quot;,&quot;)) +
  scale_x_continuous(breaks = scales::pretty_breaks(6),
                     labels = scales::number_format(big.mark = &quot;.&quot;,
                                                    decimal.mark = &quot;,&quot;)) +
  scale_y_continuous(breaks = scales::pretty_breaks(3),
                     labels = scales::number_format(big.mark = &quot;.&quot;,
                                                    decimal.mark = &quot;,&quot;)) +
  coord_fixed() +
  theme_minimal() +
  labs(
    title = &quot;#TwitterDump 2018 – Russian InfoOP Dataset: Activity by Account Language&quot;,
    subtitle = str_c(&quot;Total of &quot;, 
      n_distinct(data_unique$tweetid), &quot; unique Tweets (no RTs) from &quot;,
      n_distinct(data_unique$userid), &quot; unique Users&quot;
    ),
    caption = str_c(&quot;@fubits&quot;),
    #x = &quot;&quot;,
    # y = &quot;&quot;,
    size = &quot;# of Tweets&quot;,
    color = &quot;Account Language&quot;
  ) +
    guides(alpha = FALSE,
           colour = guide_legend(override.aes = list(size = 5, stroke = 1.5)
                                 )
           )</code></pre>
<p><img src="/post/2018-10-26-election-hacking-exploring-2-million-tweets-from-the-russian-internet-research-agency-dataset-pt-1_files/figure-html/unnamed-chunk-30-1.png" width="960" /></p>
<p>And now let’s just look at when the most influental accounts were created.</p>
<pre class="r"><code>influencers &lt;- data_counts %&gt;% 
  arrange(desc(Influence)) %&gt;% 
  top_n(15, Influence)

data_counts %&gt;% 
  arrange(desc(Influence)) %&gt;% 
  ggplot(data = ., aes(x = Follower, y = Following)) +
    geom_point(aes(size = Tweets, color = fct_infreq(Account_Lang), alpha = RT)) +
    ggrepel::geom_label_repel(data = influencers,
                            aes(label = lubridate::year(Created),
                                fill = Account_Lang),
                            alpha = 0.7) +
    scale_color_viridis_d(option = &quot;B&quot;, direction = 1) +
    scale_alpha_continuous(range = c(0.3,1),
                           labels = scales::number_format(big.mark = &quot;.&quot;,
                                                      decimal.mark = &quot;,&quot;)) +
    scale_size(range = c(1,5), labels = scales::number_format(big.mark = &quot;.&quot;,
                                                      decimal.mark = &quot;,&quot;)) +
    scale_x_continuous(breaks = scales::pretty_breaks(6),
                       labels = scales::number_format(big.mark = &quot;.&quot;,
                                                      decimal.mark = &quot;,&quot;)) +
    scale_y_continuous(breaks = scales::pretty_breaks(3),
                       labels = scales::number_format(big.mark = &quot;.&quot;,
                                                      decimal.mark = &quot;,&quot;)) +
    coord_fixed() +
    theme_minimal() +
    labs(
      title = &quot;#TwitterDump 2018 – Russian InfoOP Dataset: Top 15 (Influence) - Account Creation Date&quot;,
      subtitle = str_c(&quot;Total of &quot;, 
        n_distinct(data_unique$tweetid), &quot; unique Tweets (no RTs) from &quot;,
        n_distinct(data_unique$userid), &quot; unique Users&quot;
      ),
      caption = str_c(&quot;@fubits&quot;),
      #x = &quot;&quot;,
      # y = &quot;&quot;,
      size = &quot;# of Tweets&quot;,
      color = &quot;Account Language&quot;
    ) +
      guides(alpha = FALSE,
             colour = FALSE)</code></pre>
<p><img src="/post/2018-10-26-election-hacking-exploring-2-million-tweets-from-the-russian-internet-research-agency-dataset-pt-1_files/figure-html/unnamed-chunk-31-1.png" width="960" /></p>
<p>What about accounts with the most Tweets?</p>
<pre class="r"><code>data_counts %&gt;% 
  ggplot(data = ., aes(x = Follower, y = Following)) +
    geom_point(aes(size = Tweets, color = fct_infreq(Account_Lang), alpha = RT)) +
    ggrepel::geom_label_repel(data = data_counts[1:15,],
                            aes(label = lubridate::year(Created),
                                fill = Account_Lang),
                            alpha = 0.7) +
    scale_color_viridis_d(option = &quot;B&quot;, direction = 1) +
    scale_alpha_continuous(range = c(0.3,1),
                           labels = scales::number_format(big.mark = &quot;.&quot;,
                                                      decimal.mark = &quot;,&quot;)) +
    scale_size(range = c(1,5), labels = scales::number_format(big.mark = &quot;.&quot;,
                                                      decimal.mark = &quot;,&quot;)) +
    scale_x_continuous(breaks = scales::pretty_breaks(6),
                       labels = scales::number_format(big.mark = &quot;.&quot;,
                                                      decimal.mark = &quot;,&quot;)) +
    scale_y_continuous(breaks = scales::pretty_breaks(3),
                       labels = scales::number_format(big.mark = &quot;.&quot;,
                                                      decimal.mark = &quot;,&quot;)) +
    coord_fixed() +
    theme_minimal() +
    labs(
      title = &quot;#TwitterDump 2018 – Russian InfoOP Dataset: Top 15 (# Tweets) - Account Creation Date&quot;,
      subtitle = str_c(&quot;Total of &quot;, 
        n_distinct(data_unique$tweetid), &quot; unique Tweets (no RTs) from &quot;,
        n_distinct(data_unique$userid), &quot; unique Users&quot;
      ),
      caption = str_c(&quot;@fubits&quot;),
      #x = &quot;&quot;,
      # y = &quot;&quot;,
      size = &quot;# of Tweets&quot;,
      color = &quot;Account Language&quot;
    ) +
      guides(alpha = FALSE,
             colour = FALSE)</code></pre>
<p><img src="/post/2018-10-26-election-hacking-exploring-2-million-tweets-from-the-russian-internet-research-agency-dataset-pt-1_files/figure-html/unnamed-chunk-32-1.png" width="960" /></p>
<p>We can see from both plots that the most influential or active accounts were created in 2014 or later, and that the relation between Russian and English account languages is rather balanced at the top.</p>
</div>
</div>
<div id="languages-accounts-vs-tweets" class="section level2">
<h2><span class="header-section-number">2.3</span> Languages: Accounts vs Tweets</h2>
<p>Now it’s time to have look at the <strong>account language to tweet languages</strong> relations.</p>
<p>This is what the Top 20 (of 50) language combinations look like:</p>
<pre class="r"><code>data_unique %&gt;% 
  group_by(account_language, tweet_language) %&gt;% 
  count() %&gt;% 
  arrange(desc(n)) %&gt;% 
  head(20) %&gt;% 
  knitr::kable(&quot;html&quot;, caption = &quot;Top 20 Language Combinations from the IRA Dataset&quot;)</code></pre>
<table>
<caption>
<span id="tab:unnamed-chunk-33">Table 2.1: </span>Top 20 Language Combinations from the IRA Dataset
</caption>
<thead>
<tr>
<th style="text-align:left;">
account_language
</th>
<th style="text-align:left;">
tweet_language
</th>
<th style="text-align:right;">
n
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ru
</td>
<td style="text-align:left;">
ru
</td>
<td style="text-align:right;">
421362
</td>
</tr>
<tr>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
en
</td>
<td style="text-align:right;">
375730
</td>
</tr>
<tr>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
ru
</td>
<td style="text-align:right;">
185803
</td>
</tr>
<tr>
<td style="text-align:left;">
ru
</td>
<td style="text-align:left;">
und
</td>
<td style="text-align:right;">
69191
</td>
</tr>
<tr>
<td style="text-align:left;">
es
</td>
<td style="text-align:left;">
en
</td>
<td style="text-align:right;">
58112
</td>
</tr>
<tr>
<td style="text-align:left;">
de
</td>
<td style="text-align:left;">
de
</td>
<td style="text-align:right;">
16411
</td>
</tr>
<tr>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
und
</td>
<td style="text-align:right;">
16036
</td>
</tr>
<tr>
<td style="text-align:left;">
other
</td>
<td style="text-align:left;">
en
</td>
<td style="text-align:right;">
7339
</td>
</tr>
<tr>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
ar
</td>
<td style="text-align:right;">
6606
</td>
</tr>
<tr>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
other
</td>
<td style="text-align:right;">
6157
</td>
</tr>
<tr>
<td style="text-align:left;">
ru
</td>
<td style="text-align:left;">
uk
</td>
<td style="text-align:right;">
5741
</td>
</tr>
<tr>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
uk
</td>
<td style="text-align:right;">
4532
</td>
</tr>
<tr>
<td style="text-align:left;">
ru
</td>
<td style="text-align:left;">
bg
</td>
<td style="text-align:right;">
4439
</td>
</tr>
<tr>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
bg
</td>
<td style="text-align:right;">
3190
</td>
</tr>
<tr>
<td style="text-align:left;">
other
</td>
<td style="text-align:left;">
ru
</td>
<td style="text-align:right;">
2382
</td>
</tr>
<tr>
<td style="text-align:left;">
ru
</td>
<td style="text-align:left;">
en
</td>
<td style="text-align:right;">
1706
</td>
</tr>
<tr>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
es
</td>
<td style="text-align:right;">
1550
</td>
</tr>
<tr>
<td style="text-align:left;">
de
</td>
<td style="text-align:left;">
und
</td>
<td style="text-align:right;">
1451
</td>
</tr>
<tr>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
de
</td>
<td style="text-align:right;">
1126
</td>
</tr>
<tr>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
fr
</td>
<td style="text-align:right;">
1050
</td>
</tr>
</tbody>
</table>
<p>Ok, so we could probably have expected that Russian and English speaking accounts would mostly tweet in their respective languages. But who would have suspected that 185.803 Russian language tweets were posted by English-speaking accounts? Right :)</p>
<p>Now let’s visualise all the 50 Account Language -&gt; Tweet Language combinations.</p>
<pre class="r"><code>data_unique %&gt;% 
  group_by(account_language, tweet_language) %&gt;% 
  count() %&gt;% 
  arrange(desc(n)) %&gt;% 
    ggplot() +
    geom_tile(aes(x = tweet_language,
                  y = account_language,
                  fill = n)) +
    scale_fill_viridis_c(option = &quot;B&quot;, direction = -1,
                         breaks = scales::pretty_breaks(6),
                         labels = scales::number_format(big.mark = &quot;.&quot;,
                                                        decimal.mark = &quot;,&quot;)) + 
    coord_fixed() +
    theme_minimal() +
    labs(
      title = &quot;#TwitterDump 2018 – Russian InfoOP Dataset: Language Matrix&quot;,
      subtitle = str_c(
        &quot;Subset of &quot;, n_distinct(data_unique$tweetid),
        &quot; unique Tweets (no RTs) from &quot;,
        n_distinct(data_unique$userid), &quot; unique Users&quot;
      ),
      caption = str_c(&quot;@fubits&quot;),
      fill = &quot;Language Combo:\nTotals&quot;,
      x = &quot;Tweet Language&quot;,
      y = &quot;Account Language&quot;
    )</code></pre>
<p><img src="/post/2018-10-26-election-hacking-exploring-2-million-tweets-from-the-russian-internet-research-agency-dataset-pt-1_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<pre class="r"><code>data_unique %&gt;% 
  group_by(account_language, tweet_language) %&gt;% 
  count() %&gt;% 
  arrange(desc(n)) %&gt;% 
    ggplot() +
    geom_tile(aes(x = tweet_language, 
                  y = account_language,
                  fill = n/sum(n))) +
    scale_fill_viridis_c(option = &quot;B&quot;, direction = -1,
                         breaks = scales::pretty_breaks(6),
                         labels = scales::percent_format(accuracy = 1)) + 
    coord_fixed() +
    theme_minimal() +
  # theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1)) +
    labs(
      title = &quot;#TwitterDump 2018 – Russian InfoOP Dataset: Language Matrix&quot;,
      subtitle = str_c(
        &quot;Subset of &quot;, n_distinct(data_unique$tweetid), 
        &quot; unique Tweets (no RTs) from &quot;,
        n_distinct(data_unique$userid), &quot; unique Users&quot;
      ),
      caption = str_c(&quot;@fubits&quot;),
      fill = &quot;Language Combo:\nShare of Total&quot;
    )</code></pre>
<p><img src="/post/2018-10-26-election-hacking-exploring-2-million-tweets-from-the-russian-internet-research-agency-dataset-pt-1_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<blockquote>
<p>Alright, that’s enough exploration and heavy data wrangling for today. Stay tuned for Part 2: Content Analysis</p>
</blockquote>
<p>Here’s just a teaser of what is expecting us:</p>
<pre class="r"><code>data_unique %&gt;%
  filter(tweet_language == &quot;ru&quot;) %&gt;% 
  select(tweet_text) %&gt;% 
  head(10) %&gt;%
  knitr::kable(&quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
tweet_text
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Серебром отколоколило <a href="http://t.co/Jaa4v4IFpM" class="uri">http://t.co/Jaa4v4IFpM</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
Предлагаю судить их за поддержку нацизма, т.к. они отказались его осуждать!! #STOPNazi
</td>
</tr>
<tr>
<td style="text-align:left;">
Двойная утопия, или Нет у Европы Трампа, кроме Путина <a href="https://t.co/MbxCpuLdDl" class="uri">https://t.co/MbxCpuLdDl</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
Генпрокуратура назвала взносы на капремонт неконституционными <a href="https://t.co/IOiSR4kssB" class="uri">https://t.co/IOiSR4kssB</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
Кировский пасхальный обед один из самых дешевых в стране <a href="https://t.co/11se2vaZJS" class="uri">https://t.co/11se2vaZJS</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
В Кирове на два месяца будет ограничено движение по улице Кольцова <a href="https://t.co/iRT0jWIS9z" class="uri">https://t.co/iRT0jWIS9z</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
Пятница в Кирове: солнечный чай и любимое занятие <a href="https://t.co/jATZrjoAdy" class="uri">https://t.co/jATZrjoAdy</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
ИнстаКиров: топ прокачанных парней в спортзале <a href="http://t.co/q45lGEaHla" class="uri">http://t.co/q45lGEaHla</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
Что обсуждают в Кирове: убийство женщины и концерт “Арии” <a href="https://t.co/MUhZaTSXAA" class="uri">https://t.co/MUhZaTSXAA</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
В музее Циолковского открылась выставка, посвященная нашему земляку Юрию Тухаринову <a href="https://t.co/T3BR53yu7B" class="uri">https://t.co/T3BR53yu7B</a> <a href="https://t.co/WDDkBworPE" class="uri">https://t.co/WDDkBworPE</a>
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>data_unique %&gt;%
  filter(tweet_language == &quot;und&quot;) %&gt;% 
  select(tweet_text) %&gt;% 
  tail(10) %&gt;% 
  knitr::kable(&quot;html&quot;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
tweet_text
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Americans help to spread the rumors about the russian attacks on Ukraine.Dirty provocation about Russian invasion #UkrainianLie
</td>
</tr>
<tr>
<td style="text-align:left;">
Огненный закат🔥 📷pritokoff <a href="https://t.co/StcfnBb2ex" class="uri">https://t.co/StcfnBb2ex</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
Землетрясение магнитудой 5,1 произошло сегодня утром на Курилах
</td>
</tr>
<tr>
<td style="text-align:left;">
На гонках в Сербии автомобиль врезался в толпу
</td>
</tr>
<tr>
<td style="text-align:left;">
Автомобиль снес остановку на севере Москвы, есть пострадавшая
</td>
</tr>
<tr>
<td style="text-align:left;">
Пассажирский автобус опрокинулся в Псковской области
</td>
</tr>
<tr>
<td style="text-align:left;">
*** <a href="http://t.co/yQ5q2OYLaf" class="uri">http://t.co/yQ5q2OYLaf</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="citation">@992383d1e284b292a5d8651f4efcc0ddfb9a965ede26adcb89f7d9f8df518aeb</span> Седан Chevrolet Malibu обновят досрочно
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="citation">@8f76b66ceb2eecf7f76925ff4b84ad3f468aa9425e7a9eb505b1413d53bac6c4</span> Турция продолжает пользоваться популярностью среди туристов стран СНГ
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="https://t.co/mwRmwTS1Qg" class="uri">https://t.co/mwRmwTS1Qg</a> <a href="https://t.co/W8R0ixHa7O" class="uri">https://t.co/W8R0ixHa7O</a> #amb
</td>
</tr>
</tbody>
</table>
</div>
</div>
