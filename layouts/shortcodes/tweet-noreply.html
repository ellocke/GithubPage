{{- $pc := .Page.Site.Config.Privacy.Twitter -}}
{{- if not $pc.Disable -}}
{{- if $pc.Simple -}}
    {{ if not .Site.IsServer }}
        {{ template "_internal/shortcodes/twitter.html" . }}
    {{ else }}
    <!-- Render the placeholder for the shortcode -->
    <pre>Twitter embed: {{ .Get 0 }}</pre>
    {{ end }}
{{- else -}}
    {{ if not .Site.IsServer }}
{{- $url := printf "https://api.twitter.com/1/statuses/oembed.json?hide_thread=1&id=%s&dnt=%t" (index .Params 0) $pc.EnableDNT -}}
{{- $json := getJSON $url -}}
{{ $json.html | safeHTML }}
    {{ end }}
{{- end -}}
{{- end -}}


